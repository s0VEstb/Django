{% extends 'components/navbar.html' %}
{% load static %}
{% block content %}
<body>
<form action="" method="get">
    <input type="text" name="search" placeholder="Search" value="{{ request.GET.search }}">
    <input type="submit" value="Search">
</form>

{% for i in category %}
    <a href="?category={{ i.id }}" class="btn btn-secondary">{{ i.name }}</a>
{% endfor %}
<h2>
    Sort by:
</h2>
<a href="?sort=price>" class="btn btn-secondary">Price ></a>
<a href="?sort=price<" class="btn btn-secondary">Price <</a>
<a href="?sort=newest" class="btn btn-secondary">Newest</a>
<a href="?sort=oldest" class="btn btn-secondary">Oldest</a>


    <h1>Post list</h1>

    <div class="card-container">
        {% for product in products %}
           <div class="card" style="width: 18rem;">
               {% if product.image %}
                    <img src="/media/{{ product.image }}">
               {% else %}
                    <img src="{% static 'not_found.jpg' %}">
               {% endif %}
                <div class="card-body">
                <h5 class="card-title">{{ product.name }}</h5>
                <p class="card-text">{{ product.price }}</p>
                <a href="#" class="btn btn-secondary">{{ product.category }}</a>
                <a href="/products/{{ product.id }}" class="btn btn-primary">Buy</a>
                </div>
           </div>
        {% endfor %}
    </div>

<h1>Pages</h1>

    {% for i in pages %}
        <a href="?page={{i}}" class="btn btn-secondary">{{i}}</a>
    {% endfor %}

</body>


<style>
    .card-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: flex-start;
        margin-left: 50px;
        margin-top: 50px;
    }

    .card {
        margin-bottom: 20px;
        flex: 0 0 calc(28% - 30px);
    }
</style>

{% endblock %}